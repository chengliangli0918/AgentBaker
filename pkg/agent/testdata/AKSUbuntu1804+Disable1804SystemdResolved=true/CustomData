#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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



- path: /opt/azure/containers/provision_source_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/9yW32/bNhDH3/VXXFXCtYsyqlPkxYaLeoi6FQgcIG2RAUkm0NJJIiyTKn8kKer87wNpVbZje3G2h2HLU0R+78z73oc6vXwRTbmIpkyXQYBpKSH8LK1KuSgg1ZiUWNWodJJxbZQ80iXkUsHXqRXGhkEQsNrMmZpdjs+4sPfjAoXp9uBHAADg05Fuxgz23pBuKbURbI69N6ANU2a8HQoh6Yc+9o5xk+RSJaw2SSXTmfbLCo36ns6zhOdJznhlFUL/+C2cwPEJsNpQlxFIH+5Y5bIyn3WxgGsfznO4uvI/AqMRhKWsshBuboZgShRe4c99zw2Q+OIi+e387DS5HJ99mnz9ffxrPPmyrKt6lMeKJzNdxGfx+HO8J2POnzAMRbbXrocg2HarbcJdySuE3GpUEN0yFVV8GmX1rIicbrXEahNVXBu9tp6ytES/w1Ra8ltsNt9HGd5GwlYVHL/v9IeQyVXJroZXl4wbh5CDRWGFTCPI3HUI/PFetXpdIdbwzj9nUmDw4JhKCjSJrZ0TbSWu9xz1qP/WPzrVUpFIa2prRpGZ1+60tEBDl1tH0pqlw1IBBy6AdDV+gz6QJl1v4/R7sFv2spbKwGn8y6fxJPl4cT75Ek9OR0IKLgwqlhp+i63aOQyUplLkvHCUUgaU5lKl6BczzFttc2SgOdDvwIU2rKra3RfQ/SlY1uQ9hwUYRCBbLsACCoU10BjCP7pXl/HN4Oh1b9G9wvhGqaPXPRL2oNNpLoT7S5nZlafTgalCNlvdnv3idttdDCAcKH5rHYbHt6JpplUC+it7K40NDCftYnMvPBctXPE9ptZgBo9sIRwMn6Pe9/5YgdVYvEUW6Q+Xgf4cI3I89BmlNSPybgi65Ln3ZfOf/wxfTdlAJZzWs2IwOK8Nl0IPBqNwPda/yygVkjYRVGEq53MUmXaEkh8fHvbg8c/6v6FYskBW/djY3XxHPBOY1oj9NV6H5MN12DI1fBqq2qpi+2X1P0fKF30gUP8+OIfR0dT0dxhwX0mJrQvFsp8obEwtp1vX7JxcTkAbQTO/DkBhDwaHI3Bo+/dPq/b7S5fyzn0R+dW1+bVemQt+PMh2WPO8cdZOp12ZtsH7K3lwIJUbPG4NMU9cw9tu2jY8WRthOzl7GZ9/DP4MAAD//wot+8SzCwAA


- path: /opt/azure/containers/provision_start.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/5SQ34/SQBzE3/evmGxWaSNfC/p2CZgLNAYTqYGS3IMJWbZfoVq7dX9cUM//3QCeXNQQr0/dndn5ZCbb1G220X6HzHYh09+i48zYNui6Zeezztnb2te2fe53GI+R3WqXNXZ772yiD+zobGvsFi/GT4civ5mV60kxzUfqlfBffeDPJjQgai11essO1MAHHaLHp7jhhsP/AMh4JhtDF8OZVazKd6typJId6wpk8HIwGEA+MkumYlleL8p1OXubj1TCZmch1Slc4g4mBlCFXr8H+gAa4g4n4DAV+U0+WZWzYr6erhbXh5/7BJUkKql0YDx74lMQfp2oglRnoDzKaZoK8WZZzNfLcjGbvx6pBB+/gFq8F/jrI9JuCzaQ6vfc8oLTdg/6XAh0kBf16gj8s/C/n/S+5/s6TGzFV1Bs+iiOg19B2a6P3DnrDoLrI9+zmUanQ23bw1X1o4dUnDZ8MIngfR1wLvwzAAD//3J4YiDDAgAA

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_installs_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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





- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4ySz0/bThDF7/4rRhGH7/ewbOmPS5EPUAyNiCjCQRxChNbrgYyynnV3Z0No6f9emRAgYKT6ZM++z5vn1ZucM8k0O8BoA7VCnvPjVKFDyb55rqmbnBqZFUuKEnOdYtDOW+N0Raznj9Ism5QYFmRxmp1hFBMkN+7W3MWs4AUFzw2yHJLDXKNYXeO1SU6e+DJZizEWS5JSjKSY73z+lBVLtGXndRowf9hXmTgD7VvR5lcKqK1nMcQY4tpqO856uGZeUwDVgl6YoB1VT5v/RWuZ3suiLAzoGiaw9V/jEwvcw03AFi4HrzddDuAebi0o9z8oh/ABprALMkOG1doHXKmKuH4T8+1gF65p0Jf+0aYxc1RxZgK+dcs2OaVjR2IlpnIYQQmw6TwcRemVUvtayqnBQHYNPVPvNAYuM3h8lELu3FTEsMCwccK+RuVMhS7mg63fx+f7xagYX538OCiuRnv7xaj8M9gAFvlHUOqpFiokFmowD9h4QVDrgQr4M2EU1X34JPnOl6YPVMh164klT0zLr1rrkPi5dvWL1+3o7XwzjHepQdW6dEOsagqr8ndXEBgFo14pVoL4gt1a/+nhaO+o7Ds4K46G5bg4e7iLnvHFcPz9arw3PBmXWTYZchTj3DS7MCxY79/lTXJCKkUM22LCDcrfAAAA//8PqjOJCQQAAA==




- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";







- path: /etc/containerd/config.toml
  permissions: "0644"
  owner: root
  content: |
    version = 2
    subreaper = false
    oom_score = 0
    [plugins."io.containerd.grpc.v1.cri"]
      sandbox_image = ""
      [plugins."io.containerd.grpc.v1.cri".containerd]
        
        [plugins."io.containerd.grpc.v1.cri".containerd.untrusted_workload_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
        [plugins."io.containerd.grpc.v1.cri".containerd.default_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
      
      [plugins."io.containerd.grpc.v1.cri".registry.headers]
        X-Meta-Source-Client = ["azure/aks"]
    [metrics]
      address = "127.0.0.1:10257"
    
    #EOF

- path: /etc/containerd/kubenet_template.conf
  permissions: "0644"
  owner: root
  content: |
      {
          "cniVersion": "0.3.1",
          "name": "kubenet",
          "plugins": [{
            "type": "bridge",
            "bridge": "cbr0",
            "mtu": 1500,
            "addIf": "eth0",
            "isGateway": true,
            "ipMasq": true,
            "promiscMode": true,
            "hairpinMode": false,
            "ipam": {
                "type": "host-local",
                "subnet": "{{.PodCIDR}}",
                "routes": [{ "dst": "0.0.0.0/0" }]
            }
          },
          {
            "type": "portmap",
            "capabilities": {"portMappings": true},
            "externalSetMarkChain": "KUBE-MARK-MASQ"
          }]
      }

- path: /etc/systemd/system/containerd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=containerd daemon
    After=network.target

    [Service]
    ExecStartPre=/sbin/modprobe overlay
    ExecStart=/usr/bin/containerd
    Delegate=yes
    KillMode=process
    Restart=always
    OOMScoreAdjust=-999
    LimitNOFILE=1048576
    LimitNPROC=infinity
    LimitCORE=infinity

    [Install]
    WantedBy=multi-user.target

    #EOF

- path: /etc/systemd/system/containerd.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/crictl.yaml
  permissions: "0644"
  owner: root
  content: |
    runtime-endpoint: unix:///run/containerd/containerd.sock
    #EOF

- path: /etc/sysctl.d/11-containerd.conf
  permissions: "0644"
  owner: root
  content: |
    net.ipv4.ip_forward = 1
    net.ipv4.conf.all.forwarding = 1
    net.bridge.bridge-nf-call-iptables = 1
    #EOF






- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=

    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Standard_LRS,kubernetes.azure.com/cluster=resourceGroupName

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/999-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue:
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731
    net.ipv4.tcp_retries2=8
    net.core.message_burst=80
    net.core.message_cost=40
    net.core.somaxconn=16384
    net.ipv4.tcp_max_syn_backlog=16384
    net.ipv4.neigh.default.gc_thresh1=4096
    net.ipv4.neigh.default.gc_thresh2=8192
    net.ipv4.neigh.default.gc_thresh3=16384

    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- . /opt/azure/containers/provision_source_distro.sh
- aptmarkWALinuxAgent hold
