#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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



- path: /opt/azure/containers/provision_source_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/9yW32/bNhDH3/VXXFXCtYsyqlPkxYaLeoi6FQgcIG2RAUkm0NJJIiyTKn8kKer87wNpVbZje3G2h2HLU0R+78z73oc6vXwRTbmIpkyXQYBpKSH8LK1KuSgg1ZiUWNWodJJxbZQ80iXkUsHXqRXGhkEQsNrMmZpdjs+4sPfjAoXp9uBHAADg05Fuxgz23pBuKbURbI69N6ANU2a8HQoh6Yc+9o5xk+RSJaw2SSXTmfbLCo36ns6zhOdJznhlFUL/+C2cwPEJsNpQlxFIH+5Y5bIyn3WxgGsfznO4uvI/AqMRhKWsshBuboZgShRe4c99zw2Q+OIi+e387DS5HJ99mnz9ffxrPPmyrKt6lMeKJzNdxGfx+HO8J2POnzAMRbbXrocg2HarbcJdySuE3GpUEN0yFVV8GmX1rIicbrXEahNVXBu9tp6ytES/w1Ra8ltsNt9HGd5GwlYVHL/v9IeQyVXJroZXl4wbh5CDRWGFTCPI3HUI/PFetXpdIdbwzj9nUmDw4JhKCjSJrZ0TbSWu9xz1qP/WPzrVUpFIa2prRpGZ1+60tEBDl1tH0pqlw1IBBy6AdDV+gz6QJl1v4/R7sFv2spbKwGn8y6fxJPl4cT75Ek9OR0IKLgwqlhp+i63aOQyUplLkvHCUUgaU5lKl6BczzFttc2SgOdDvwIU2rKra3RfQ/SlY1uQ9hwUYRCBbLsACCoU10BjCP7pXl/HN4Oh1b9G9wvhGqaPXPRL2oNNpLoT7S5nZlafTgalCNlvdnv3idttdDCAcKH5rHYbHt6JpplUC+it7K40NDCftYnMvPBctXPE9ptZgBo9sIRwMn6Pe9/5YgdVYvEUW6Q+Xgf4cI3I89BmlNSPybgi65Ln3ZfOf/wxfTdlAJZzWs2IwOK8Nl0IPBqNwPda/yygVkjYRVGEq53MUmXaEkh8fHvbg8c/6v6FYskBW/djY3XxHPBOY1oj9NV6H5MN12DI1fBqq2qpi+2X1P0fKF30gUP8+OIfR0dT0dxhwX0mJrQvFsp8obEwtp1vX7JxcTkAbQTO/DkBhDwaHI3Bo+/dPq/b7S5fyzn0R+dW1+bVemQt+PMh2WPO8cdZOp12ZtsH7K3lwIJUbPG4NMU9cw9tu2jY8WRthOzl7GZ9/DP4MAAD//wot+8SzCwAA


- path: /opt/azure/containers/provision_start.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/5SQ34/SQBzE3/evmGxWaSNfC/p2CZgLNAYTqYGS3IMJWbZfoVq7dX9cUM//3QCeXNQQr0/dndn5ZCbb1G220X6HzHYh09+i48zYNui6Zeezztnb2te2fe53GI+R3WqXNXZ772yiD+zobGvsFi/GT4civ5mV60kxzUfqlfBffeDPJjQgai11essO1MAHHaLHp7jhhsP/AMh4JhtDF8OZVazKd6typJId6wpk8HIwGEA+MkumYlleL8p1OXubj1TCZmch1Slc4g4mBlCFXr8H+gAa4g4n4DAV+U0+WZWzYr6erhbXh5/7BJUkKql0YDx74lMQfp2oglRnoDzKaZoK8WZZzNfLcjGbvx6pBB+/gFq8F/jrI9JuCzaQ6vfc8oLTdg/6XAh0kBf16gj8s/C/n/S+5/s6TGzFV1Bs+iiOg19B2a6P3DnrDoLrI9+zmUanQ23bw1X1o4dUnDZ8MIngfR1wLvwzAAD//3J4YiDDAgAA

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_installs_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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





- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4ySz0/bThDF7/4rRhGH7/ewbOmPS5EPUAyNiCjCQRxChNbrgYyynnV3Z0No6f9emRAgYKT6ZM++z5vn1ZucM8k0O8BoA7VCnvPjVKFDyb55rqmbnBqZFUuKEnOdYtDOW+N0Raznj9Ism5QYFmRxmp1hFBMkN+7W3MWs4AUFzw2yHJLDXKNYXeO1SU6e+DJZizEWS5JSjKSY73z+lBVLtGXndRowf9hXmTgD7VvR5lcKqK1nMcQY4tpqO856uGZeUwDVgl6YoB1VT5v/RWuZ3suiLAzoGiaw9V/jEwvcw03AFi4HrzddDuAebi0o9z8oh/ABprALMkOG1doHXKmKuH4T8+1gF65p0Jf+0aYxc1RxZgK+dcs2OaVjR2IlpnIYQQmw6TwcRemVUvtayqnBQHYNPVPvNAYuM3h8lELu3FTEsMCwccK+RuVMhS7mg63fx+f7xagYX538OCiuRnv7xaj8M9gAFvlHUOqpFiokFmowD9h4QVDrgQr4M2EU1X34JPnOl6YPVMh164klT0zLr1rrkPi5dvWL1+3o7XwzjHepQdW6dEOsagqr8ndXEBgFo14pVoL4gt1a/+nhaO+o7Ds4K46G5bg4e7iLnvHFcPz9arw3PBmXWTYZchTj3DS7MCxY79/lTXJCKkUM22LCDcrfAAAA//8PqjOJCQQAAA==




- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";







- path: /etc/containerd/config.toml
  permissions: "0644"
  owner: root
  content: |
    version = 2
    subreaper = false
    oom_score = 0
    [plugins."io.containerd.grpc.v1.cri"]
      sandbox_image = "oss/kubernetes/pause:1.3.1"
      [plugins."io.containerd.grpc.v1.cri".containerd]
        
        [plugins."io.containerd.grpc.v1.cri".containerd.untrusted_workload_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
        [plugins."io.containerd.grpc.v1.cri".containerd.default_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
      
      [plugins."io.containerd.grpc.v1.cri".registry.headers]
        X-Meta-Source-Client = ["azure/aks"]
    [metrics]
      address = "127.0.0.1:10257"
    
    #EOF

- path: /etc/containerd/kubenet_template.conf
  permissions: "0644"
  owner: root
  content: |
      {
          "cniVersion": "0.3.1",
          "name": "kubenet",
          "plugins": [{
            "type": "bridge",
            "bridge": "cbr0",
            "mtu": 1500,
            "addIf": "eth0",
            "isGateway": true,
            "ipMasq": true,
            "promiscMode": true,
            "hairpinMode": false,
            "ipam": {
                "type": "host-local",
                "subnet": "{{.PodCIDR}}",
                "routes": [{ "dst": "0.0.0.0/0" }]
            }
          },
          {
            "type": "portmap",
            "capabilities": {"portMappings": true},
            "externalSetMarkChain": "KUBE-MARK-MASQ"
          }]
      }

- path: /etc/systemd/system/containerd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=containerd daemon
    After=network.target

    [Service]
    ExecStartPre=/sbin/modprobe overlay
    ExecStart=/usr/bin/containerd
    Delegate=yes
    KillMode=process
    Restart=always
    OOMScoreAdjust=-999
    LimitNOFILE=1048576
    LimitNPROC=infinity
    LimitCORE=infinity

    [Install]
    WantedBy=multi-user.target

    #EOF

- path: /etc/systemd/system/containerd.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/crictl.yaml
  permissions: "0644"
  owner: root
  content: |
    runtime-endpoint: unix:///run/containerd/containerd.sock
    #EOF

- path: /etc/sysctl.d/11-containerd.conf
  permissions: "0644"
  owner: root
  content: |
    net.ipv4.ip_forward = 1
    net.ipv4.conf.all.forwarding = 1
    net.bridge.bridge-nf-call-iptables = 1
    #EOF






- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=

    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=resourceGroupName

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/999-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue:
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731
    net.ipv4.tcp_retries2=8
    net.core.message_burst=80
    net.core.message_cost=40
    net.core.somaxconn=16384
    net.ipv4.tcp_max_syn_backlog=16384
    net.ipv4.neigh.default.gc_thresh1=4096
    net.ipv4.neigh.default.gc_thresh2=8192
    net.ipv4.neigh.default.gc_thresh3=16384

    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- . /opt/azure/containers/provision_source_distro.sh
- aptmarkWALinuxAgent hold
