#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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



- path: /opt/azure/containers/provision_source_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/9yW32/bNhDH3/VXXFXCtYsyqlPkxYaLeoi6FQgcIG2RAUkm0NJJIiyTKn8kKer87wNpVbZje3G2h2HLU0R+78z73oc6vXwRTbmIpkyXQYBpKSH8LK1KuSgg1ZiUWNWodJJxbZQ80iXkUsHXqRXGhkEQsNrMmZpdjs+4sPfjAoXp9uBHAADg05Fuxgz23pBuKbURbI69N6ANU2a8HQoh6Yc+9o5xk+RSJaw2SSXTmfbLCo36ns6zhOdJznhlFUL/+C2cwPEJsNpQlxFIH+5Y5bIyn3WxgGsfznO4uvI/AqMRhKWsshBuboZgShRe4c99zw2Q+OIi+e387DS5HJ99mnz9ffxrPPmyrKt6lMeKJzNdxGfx+HO8J2POnzAMRbbXrocg2HarbcJdySuE3GpUEN0yFVV8GmX1rIicbrXEahNVXBu9tp6ytES/w1Ra8ltsNt9HGd5GwlYVHL/v9IeQyVXJroZXl4wbh5CDRWGFTCPI3HUI/PFetXpdIdbwzj9nUmDw4JhKCjSJrZ0TbSWu9xz1qP/WPzrVUpFIa2prRpGZ1+60tEBDl1tH0pqlw1IBBy6AdDV+gz6QJl1v4/R7sFv2spbKwGn8y6fxJPl4cT75Ek9OR0IKLgwqlhp+i63aOQyUplLkvHCUUgaU5lKl6BczzFttc2SgOdDvwIU2rKra3RfQ/SlY1uQ9hwUYRCBbLsACCoU10BjCP7pXl/HN4Oh1b9G9wvhGqaPXPRL2oNNpLoT7S5nZlafTgalCNlvdnv3idttdDCAcKH5rHYbHt6JpplUC+it7K40NDCftYnMvPBctXPE9ptZgBo9sIRwMn6Pe9/5YgdVYvEUW6Q+Xgf4cI3I89BmlNSPybgi65Ln3ZfOf/wxfTdlAJZzWs2IwOK8Nl0IPBqNwPda/yygVkjYRVGEq53MUmXaEkh8fHvbg8c/6v6FYskBW/djY3XxHPBOY1oj9NV6H5MN12DI1fBqq2qpi+2X1P0fKF30gUP8+OIfR0dT0dxhwX0mJrQvFsp8obEwtp1vX7JxcTkAbQTO/DkBhDwaHI3Bo+/dPq/b7S5fyzn0R+dW1+bVemQt+PMh2WPO8cdZOp12ZtsH7K3lwIJUbPG4NMU9cw9tu2jY8WRthOzl7GZ9/DP4MAAD//wot+8SzCwAA


- path: /opt/azure/containers/provision_start.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/5SQ34/SQBzE3/evmGxWaSNfC/p2CZgLNAYTqYGS3IMJWbZfoVq7dX9cUM//3QCeXNQQr0/dndn5ZCbb1G220X6HzHYh09+i48zYNui6Zeezztnb2te2fe53GI+R3WqXNXZ772yiD+zobGvsFi/GT4civ5mV60kxzUfqlfBffeDPJjQgai11essO1MAHHaLHp7jhhsP/AMh4JhtDF8OZVazKd6typJId6wpk8HIwGEA+MkumYlleL8p1OXubj1TCZmch1Slc4g4mBlCFXr8H+gAa4g4n4DAV+U0+WZWzYr6erhbXh5/7BJUkKql0YDx74lMQfp2oglRnoDzKaZoK8WZZzNfLcjGbvx6pBB+/gFq8F/jrI9JuCzaQ6vfc8oLTdg/6XAh0kBf16gj8s/C/n/S+5/s6TGzFV1Bs+iiOg19B2a6P3DnrDoLrI9+zmUanQ23bw1X1o4dUnDZ8MIngfR1wLvwzAAD//3J4YiDDAgAA

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_installs_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/8xae3fbNrL/X58Cy2q7cbcUnUeziW+VHpqiXdYSpZKUm9x6Dw9EQjIqkmAB0LZu4u9+DwCKD70sb3ruufnDjomZ3zwwmAEG+OZvxgxnxgyy2447Htih4w7sj/3ui1vCeAZTBL4ADnEC9Ai8OlEkrjmyGxQnnU5EsjleFBSZcYqzKUP0xcnnDgAARLdwgYBuA/0l0B35MwWnQB+B9+If0LqfzcHIcae+7T1qTZZkc+yx00EZKyjyJtaLE6Dw2YpxlEY8sTM4S5CZxT6HlAOaRzOcxeDLF4AeMAdd2/NC/5Mf2CMrGIZ+YHpBeGE6w6dQdMYhPwbnseGGq2KGEsR9RO8QtRDllb5X03N7aAehb3vXthdOPOfaDOzwyv4UTszg575mIB4Zy2KGaIY4YkaEKGfyQ4I4k4C9JVppu9As2wueARNRrnUkDslRxlgCFiijDAKdFBx0n1AVvDp9867FTdGfQM/QPdAffjh9D/QYrhj41+vTU6Av0eppwJ1iK5uAzorZH0AzLLff/VwFogqM2vPv2Javj3VylGCU8dq7nBTRrYjCfUBVwKYkBqdvT0+PIib3GaCE8DPx4wkOyWJOnLXLpudDx3rSEJjj5hS3bNkLtmHMmzfHUW9Zc4hFmfPfU88Of/HH7h4j4P8UFPX+YCTb1L3NudP9+2i29dwiVKkAcfDPB/lfFN2SPfPzqIEvYAYZevsG6HqMIhIj8OGI6V9j7vLSftCnpkH+EBSOZQvJruVMzGFoDR3bFSvJ8uyg3/38BIVh3NwYNzc3N49/GZ4m8DSFF0EOfvwR2OOL0qitCVDLVosSUsTaGdBMEQiTYpbgyJLfvlcEHGUw446k6X4ObNd0g9AZPK7HWTFjEcU5xyRbU/nTc9/ynEngjN0mLYSxJdd9RbjPqF1MPooo4k8wKm9UzBQxUtAIXVJS5IrVs/3x1LPs8NIbTycVZUIiKGxQRMOxZQrtq+G7NFjlSA1ej8Lg08RuuiBD3IUpqsx3GzowFBUU85XUoaZy7eC3sXclNJ56TvBpQ5+7FuS14wVTcxiWTC0qb9vGDfJwj82UFBwFogrXkrzxNLDDwDwf1gbmFKeQrsw7iBM4wwnmK7+p3cRzRqb3KTSvTWdonjtDYY7fcEEJ4EcwQTs5fcsc2i0WGZgTSu5wjOg5jJZkPh+RuOSzhuPpYOKNr52B7YXnpnU1vrgIR+OBfRBAOwN7eB8PcHmIU4zYfubQswPPsf1DIPZDTjKU8QMo9sfJ2LXd4BDMoKDrMN0HM5h6KnYPwPyCOUf0AMgvThDY3k4ID3I0xCneZYpnBvbQGTm7bag4f534h5jDXye7fVkBnBfREh1UIDyfWlf203r8RjFHTykT/uY5gX2MSk/DKb3aiAVDI5jBBYqdGGUc85X9wFHG1hM99e1wZLrmpT0InYHtBmKB2R8D2/UbE10wRE3G8CKrcZyBWjBiXx+avu9cuk2MRp4tGHIyxmEWoRHiMIYcVrId1w9M17LDkR2YAzMwH6usCeNzmAgm6i+LdfI0B+G5ORQcXuhfTSsZMWYi24wLPiNFFvuuGUgZbY6B44v0E46nwfl46g5CQbeWiB6ipIjRCDKO6AUlqc9hFkMaD88llP3RGk4Hwl1+YHvhhTceiZODOzC9QTg8f6wykpq+a1gkjXx0NfLDas6uzekwKDe+JVsKH3BapMOG2V6RIIsU5coemR+d0XQUCosqg7zp0A6t8bRe2mvxV2i1Fr58x7Tt0WtEyyjQxObbHl9UOydd7ZzwHPz++1M5EfSBdvdKA//+938BfosyyamAYqBjoBmHcpYRa2D/xvE4LJVxjkCaY7U53H/Aax1CLNepDiHyB0WcrqI0DvE8nEOcFBSBl69OwQ/g1Q8gJXFOyQyBGQ0zxOc44Yi2D5yjsXDiuV2fWOU+Us+A1mTSwAdlSUriIkFMF0uhFxtNmp7Qsm2M5TrORJZctmnG+ntlTjWz6zI+GU4vHVfNpvTajglN70DXcp3w3HHDgeMZL0915WAhKsGMq2Fr7F44l5KiYlWbe7G33yTZAql4tnUcDx1LbK/7faBFMMER2aFlFSz/YN9oqSzr2ozieIG06m9OYcZySEXR/Gbxj2cohZLDamlixvcNZiSTfgXffruBsV5KfdDS7f/aujmu/muwGc4MNOMycIDOQQY50PWKfo5FlJVp15edl1jsF5M7FFdxps5JziIjFGeLskET67SkA38WiK6AOOXiCIFZwUHBBCHmDCgiqSSY4wQ1T17BLWYAM+EbwHCaJ4hxAPOcEhjdAk7APaFLSEUlAJUwzFiBGLjH/JYUHERE8HGUrECRYVGfkkTJVpJ+B/ocGLTIjFJto0QymprJyWRFTECSAZ0dwSGXduODFJYwoCec7h4UR66tgdr5L9+dvtk3Ac/HrZ082AsvXD+HCUM94C9xnuNs0dO2w8HJeTvtVA26Elp26EgOcEnYeSx7gxbJOMQZomtL7iHm4ZzQUESCSLqn4KXSfe1q9duIKs5eGVa92EAPKAoZh5SrKWhl5QtnaIe/mYH1cxg4I3s8DQ7KqwUYKsX2OEmTr4JkKxbxpBcbL1/qDf2PVPVgVVLQQNeVe7YaoFYwDD1bbCk6jekBmOkw4vgOAV3/s8CIg5hES0RFsL+oyMJyusGrU/D6VAotyXb0WQfhYGxdiV1bMJ7ICnjS2d+yrd1wVM9WRc2IZJgT6qt5b9dua+wGpuPa3iAcjV0nGNd6CVcq3/YPR5SeKgE9jlNEJezOSe0eJeyIqT2o9nMULpfCf6by0co+PZltDx7Xju+sLwzK3dpWY3hgX8jtdO2QGM3F5nvdKD9g9i6Mo2wVjGVNVXLvIDUSPFvLlL9VgnhCfAPlaMlCZW/qis/ryq7aYqUyJOdq81sHQ3Vt0GO3RzhkP/pXhUKpQxujuitoX+eoH4+dzjcguEWgyGPIkZ6RGOkJnKGErcO6HFLbATUE5oTKP+vTABCcPeAVGQNFxnECWBFFiLF5kQCSAVkfirwMtqmEdEmMhhLw/0fUTScDM7BDeW0yNM/toX/EvO9y3KEQOCzkP9bzqbS1f36fqetflba2FTouYakA8mXlrcKmrLWtlNGq/e/fv9fVHzpcsnovttvubbijTN21V3j1ZudWobbkF1LQDNamfK5PQ3Kf6HNC4QL1c0QZZlwcOzYpJOIIPkwZ6r+83Bz2xHJM0d7xC0LvIY0D4q9YQhb9FWKK5BF8+NDeBf6hdI1r/+2b3fVZZM3xnLm9esfEDpWSZJLADDWP1V3PPh+PA8/+dep49kCgipOeO656TvKMzWkhjoIbpzuKeEGrXsWTLQdVPoIhePXBiNGdkRVJAqKkYBxRHWdzspFm3/kirbuOe1kFxWOnE1EEuSyuI5jhOWJ8gGkr3Y1M17mw/WDgeP3NFkta8jBJnS5jTIGeK9UafELQPcVKjiXLYkuECmQp4JakyOhWTwaMnpC2QSjXT7fFaDSKbVuNiqRxDdltYzVuF2vJZ/V/dwEdSd6AT0kM/nV6uhusapDsYN26zezout6BOS57eGfg7mWnnHh21tHXQXCmsBHleI4jkcxgwW8JxXylx5DDM3CjdS1T3s47F45lBvaNVkqkd4ietXYo6u6yA0AGUyRZ153QXwfujdYRJQc9cKWA+n+pQKnNNosYLdj2kA7jFGeSYJ+wglKUcX0taJtiibP4DKhY6wghUrFdcA1pUplSaSzxG86rXNZwyrbrSsYlWu1kuLI/3WgdDXzYO9P6Q92/s5TrzIITFsEEUTOOSVYtHWs4lVaY02AsL7q80BwMxm6jwDTboYKXGesMAStQPUZ5QlYpynhvBdPk0DnhkMTjym3Zy2VfflSucgYfvnRfyMDuHri2rW7VT74stCcU2S3IR9ERktQ979dIY8WsZVP7zvprkMsr8wZ4dW3+NbB0UQO2L3SfhVpFrWk5FskyFHGyEbCmJVuRrm2JE6bl2fK6yBz6/e6LnOKMz4H2+UYrAyO+0cTy+Tu70b4H66/qsr49sn5K0P7afkDQHlPtjQGmUsmVncU5wRmf0kTR3XKeszPDSMgCZ70UR5QwMuckS3CGehFJb7Tvb6pHAOqKje5FSeW4XF/r1mtq7FTkksL8dn3vvlZ6DbMQg717nMXknvUyxEsM9mcyqiQco0REKGrinL178+Z1CbaASYIOeKQc3zIk/SoNjBvtUQPaoQRwcFitWkFSrQhJ3157zac59+D0pP1ubv3ybYlWgDJ49ub0/dvyKZw4BLDWi7jXb39QL+JIwbcunsoHXBEW9UmtA0Hay1Gq3scdwyC+KY71k7n+1Df8oG+ZxrB/hykvYLJuN4y3Pkw3v1juxhdtx5K8sj/1uy9KHz3LrPvTk11L3PaC5wHWZt+vJ6gN+XSFawMeX9z2yXl2XaMoZh++dPdmO5lM90nbzs4uTNGHLxup+VkYwqnbCtle8CyUJVptgVzZnw5j1FVBvgMjCY5WG0VBPiFTV2XHzK7A0XMJtHNym76rMumHL0azHjBjMzcYrRddzNjp7t2ayjZleYV0OZkOKL5DlHlFbWLjVn00HkyH5fNrLbvDMYZqIbrXzsAxw8HVyA/FSUireorxMmVG93OD89Hofr6cTMPBdfl28Mr2XHu4ftRdyDffOj2pbnuBHssLx7aMx+0zqCJ+AFr3RUTSFGYx0O+A0OBkmxjIAUBRSu4Q0FPQVlJwVnoCfQm6nxt6PjZuVRlqYNIU6HS+U93Nq8ryV0IimICELOR6DoX1a/eRhaGcrJcThKjefRFDjsA//85OeglZaLWX/gZ0KVjqbPvB45o5VnOq127f9txmADQ1ZLeguwbdwlSQQGfgpkLTl/1uw1nNET0hC10YqktDu59bhj82SSHQ9YzosXCpLudK1wsu39npOUVz/NBvWqsBXRfVcJHsHFUnUJkIf6rXdW1w+8pFNTBScbDNSHGHYFGfYGcJjJbyzUA5VHVy1u8oerFREdXdnB39kDAjIeOQs7oxUnbucIY5hemcAb1op3Bpkudc256vXiANh61cXpUHmPMwIdGSHX4F8lbWj9fiF8y5vhCrnYBBvlycnY1Vvjk762u6Pic0QqI2zUkSa+uQAfoKlDFR9W11qrpi/XoZVHc0VXdeGOCM3cd/1kulvGSbXlw4Hx+155nN03yAab8OVJ7mcuBFGVEyjSFhW45zJKwvByKZXRR/tUr3eBGAOF8u9BjNgO6BXrUa5NXhq+96YqAGM/Ll4plmABDlQKeghWEUjBrfAfnreXAnnUZS2vbN0326fInFHPvO5c/Tyd6rzafU2OhsVXokePb2TeNvcodoAlf6PaGC+Gn1UlJkHOgclJxiehNyj2iMaV/6S9Sgh3dvw7dv9ARnxYO+yIrvizxXJM1sKZX5vhTdGtlQC2QkQ2Av+vNcgx5yQrlI3buK8F4PvAYv5cqdQXYL9Ggn835FNm6r0qrUSXNnOFtH2wxnjdbdlreq515J3GNEprpeXC6Kg4mvnsEkVpn4aGWLcs6T/TPwtNRy3VYP3/QC6NHp0Tocg81S/NfgPctDj53OHUywqCE7atuhO5Q9Lvn223LyF3kBVNUHCYEximVm2yyjR5t8f4uj24avqn3M76D7E+j3wen2CzJ/5ISe7U+H4lh2hC0sxSoBtjZpR6PUeUmsiE3McnMk0PzADKZ+v/tT04h6APxtpzUNOqWOsPo7DWdz4o1HADMQEUqLnKNY+27Xczqw4WnHvRiH3ngUWmPPm04Ce7Bvl7rJuWeOGma2ALYCQiRGnC3AHGflWzf1xE5dOe0IxPp5ruos10qEzkXo2vbAHsgXnZwWaNv2zajbVnF7EbR2tHsu1jbXwJEr7ht7fNH53wAAAP//E3k6Dcg6AAA=





- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4ySz0/bThDF7/4rRhGH7/ewbOmPS5EPUAyNiCjCQRxChNbrgYyynnV3Z0No6f9emRAgYKT6ZM++z5vn1ZucM8k0O8BoA7VCnvPjVKFDyb55rqmbnBqZFUuKEnOdYtDOW+N0Raznj9Ism5QYFmRxmp1hFBMkN+7W3MWs4AUFzw2yHJLDXKNYXeO1SU6e+DJZizEWS5JSjKSY73z+lBVLtGXndRowf9hXmTgD7VvR5lcKqK1nMcQY4tpqO856uGZeUwDVgl6YoB1VT5v/RWuZ3suiLAzoGiaw9V/jEwvcw03AFi4HrzddDuAebi0o9z8oh/ABprALMkOG1doHXKmKuH4T8+1gF65p0Jf+0aYxc1RxZgK+dcs2OaVjR2IlpnIYQQmw6TwcRemVUvtayqnBQHYNPVPvNAYuM3h8lELu3FTEsMCwccK+RuVMhS7mg63fx+f7xagYX538OCiuRnv7xaj8M9gAFvlHUOqpFiokFmowD9h4QVDrgQr4M2EU1X34JPnOl6YPVMh164klT0zLr1rrkPi5dvWL1+3o7XwzjHepQdW6dEOsagqr8ndXEBgFo14pVoL4gt1a/+nhaO+o7Ds4K46G5bg4e7iLnvHFcPz9arw3PBmXWTYZchTj3DS7MCxY79/lTXJCKkUM22LCDcrfAAAA//8PqjOJCQQAAA==




- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";







- path: /etc/containerd/config.toml
  permissions: "0644"
  owner: root
  content: |
    version = 2
    subreaper = false
    oom_score = 0
    [plugins."io.containerd.grpc.v1.cri"]
      sandbox_image = "oss/kubernetes/pause:1.3.1"
      [plugins."io.containerd.grpc.v1.cri".containerd]
        
        [plugins."io.containerd.grpc.v1.cri".containerd.untrusted_workload_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/nvidia-container-runtime"
        [plugins."io.containerd.grpc.v1.cri".containerd.default_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/nvidia-container-runtime"
      
      [plugins."io.containerd.grpc.v1.cri".registry.headers]
        X-Meta-Source-Client = ["azure/aks"]
    [metrics]
      address = "127.0.0.1:10257"
    
    #EOF

- path: /etc/containerd/kubenet_template.conf
  permissions: "0644"
  owner: root
  content: |
      {
          "cniVersion": "0.3.1",
          "name": "kubenet",
          "plugins": [{
            "type": "bridge",
            "bridge": "cbr0",
            "mtu": 1500,
            "addIf": "eth0",
            "isGateway": true,
            "ipMasq": true,
            "promiscMode": true,
            "hairpinMode": false,
            "ipam": {
                "type": "host-local",
                "subnet": "{{.PodCIDR}}",
                "routes": [{ "dst": "0.0.0.0/0" }]
            }
          },
          {
            "type": "portmap",
            "capabilities": {"portMappings": true},
            "externalSetMarkChain": "KUBE-MARK-MASQ"
          }]
      }

- path: /etc/systemd/system/containerd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=containerd daemon
    After=network.target

    [Service]
    ExecStartPre=/sbin/modprobe overlay
    ExecStart=/usr/bin/containerd
    Delegate=yes
    KillMode=process
    Restart=always
    OOMScoreAdjust=-999
    LimitNOFILE=1048576
    LimitNPROC=infinity
    LimitCORE=infinity

    [Install]
    WantedBy=multi-user.target

    #EOF

- path: /etc/systemd/system/containerd.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/crictl.yaml
  permissions: "0644"
  owner: root
  content: |
    runtime-endpoint: unix:///run/containerd/containerd.sock
    #EOF

- path: /etc/sysctl.d/11-containerd.conf
  permissions: "0644"
  owner: root
  content: |
    net.ipv4.ip_forward = 1
    net.ipv4.conf.all.forwarding = 1
    net.bridge.bridge-nf-call-iptables = 1
    #EOF





- path: /etc/systemd/system/nvidia-modprobe.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=Installs and loads Nvidia GPU kernel module
    [Service]
    Type=oneshot
    RemainAfterExit=true
    ExecStartPre=/bin/sh -c "dkms autoinstall --verbose"
    ExecStart=/bin/sh -c "nvidia-modprobe -u -c0"
    ExecStartPost=/bin/sh -c "sleep 10 && systemctl restart kubelet"
    [Install]
    WantedBy=multi-user.target


- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=
    KUBELET_IMAGE=hyperkube-amd64:v1.15.7


    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,node-role.kubernetes.io/agent=,kubernetes.io/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Standard_LRS,accelerator=nvidia,kubernetes.azure.com/cluster=resourceGroupName

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/999-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue:
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731
    net.ipv4.tcp_retries2=8
    net.core.message_burst=80
    net.core.message_cost=40
    net.core.somaxconn=16384
    net.ipv4.tcp_max_syn_backlog=16384
    net.ipv4.neigh.default.gc_thresh1=4096
    net.ipv4.neigh.default.gc_thresh2=8192
    net.ipv4.neigh.default.gc_thresh3=16384

    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- . /opt/azure/containers/provision_source_distro.sh
- aptmarkWALinuxAgent hold
