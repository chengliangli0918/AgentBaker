#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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



- path: /opt/azure/containers/provision_source_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/9yW32/bNhDH3/VXXFXCtYsyqlPkxYaLeoi6FQgcIG2RAUkm0NJJIiyTKn8kKer87wNpVbZje3G2h2HLU0R+78z73oc6vXwRTbmIpkyXQYBpKSH8LK1KuSgg1ZiUWNWodJJxbZQ80iXkUsHXqRXGhkEQsNrMmZpdjs+4sPfjAoXp9uBHAADg05Fuxgz23pBuKbURbI69N6ANU2a8HQoh6Yc+9o5xk+RSJaw2SSXTmfbLCo36ns6zhOdJznhlFUL/+C2cwPEJsNpQlxFIH+5Y5bIyn3WxgGsfznO4uvI/AqMRhKWsshBuboZgShRe4c99zw2Q+OIi+e387DS5HJ99mnz9ffxrPPmyrKt6lMeKJzNdxGfx+HO8J2POnzAMRbbXrocg2HarbcJdySuE3GpUEN0yFVV8GmX1rIicbrXEahNVXBu9tp6ytES/w1Ra8ltsNt9HGd5GwlYVHL/v9IeQyVXJroZXl4wbh5CDRWGFTCPI3HUI/PFetXpdIdbwzj9nUmDw4JhKCjSJrZ0TbSWu9xz1qP/WPzrVUpFIa2prRpGZ1+60tEBDl1tH0pqlw1IBBy6AdDV+gz6QJl1v4/R7sFv2spbKwGn8y6fxJPl4cT75Ek9OR0IKLgwqlhp+i63aOQyUplLkvHCUUgaU5lKl6BczzFttc2SgOdDvwIU2rKra3RfQ/SlY1uQ9hwUYRCBbLsACCoU10BjCP7pXl/HN4Oh1b9G9wvhGqaPXPRL2oNNpLoT7S5nZlafTgalCNlvdnv3idttdDCAcKH5rHYbHt6JpplUC+it7K40NDCftYnMvPBctXPE9ptZgBo9sIRwMn6Pe9/5YgdVYvEUW6Q+Xgf4cI3I89BmlNSPybgi65Ln3ZfOf/wxfTdlAJZzWs2IwOK8Nl0IPBqNwPda/yygVkjYRVGEq53MUmXaEkh8fHvbg8c/6v6FYskBW/djY3XxHPBOY1oj9NV6H5MN12DI1fBqq2qpi+2X1P0fKF30gUP8+OIfR0dT0dxhwX0mJrQvFsp8obEwtp1vX7JxcTkAbQTO/DkBhDwaHI3Bo+/dPq/b7S5fyzn0R+dW1+bVemQt+PMh2WPO8cdZOp12ZtsH7K3lwIJUbPG4NMU9cw9tu2jY8WRthOzl7GZ9/DP4MAAD//wot+8SzCwAA


- path: /opt/azure/containers/provision_start.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/5SQ34/SQBzE3/evmGxWaSNfC/p2CZgLNAYTqYGS3IMJWbZfoVq7dX9cUM//3QCeXNQQr0/dndn5ZCbb1G220X6HzHYh09+i48zYNui6Zeezztnb2te2fe53GI+R3WqXNXZ772yiD+zobGvsFi/GT4civ5mV60kxzUfqlfBffeDPJjQgai11essO1MAHHaLHp7jhhsP/AMh4JhtDF8OZVazKd6typJId6wpk8HIwGEA+MkumYlleL8p1OXubj1TCZmch1Slc4g4mBlCFXr8H+gAa4g4n4DAV+U0+WZWzYr6erhbXh5/7BJUkKql0YDx74lMQfp2oglRnoDzKaZoK8WZZzNfLcjGbvx6pBB+/gFq8F/jrI9JuCzaQ6vfc8oLTdg/6XAh0kBf16gj8s/C/n/S+5/s6TGzFV1Bs+iiOg19B2a6P3DnrDoLrI9+zmUanQ23bw1X1o4dUnDZ8MIngfR1wLvwzAAD//3J4YiDDAgAA

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_installs_distro.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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


- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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





- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4ySTW8aPRSF9/4VVyMW77tw3K9dNAtoJikKSiOGKAtAyOO5wBUez8i+JqRN/3s1fKQlEKleHp/nnLO44wdHPBVXGIynhql26W0s0CKLr7UrqVXuNS+zDQUOqYrBK1sbbVVBTq32ViHGOfo1GZyKIQbWnlNtn/RzEJlbk69dhY6vyWKqkI0qca6j5Vc+j8ZgCNmGOGfNMaQfv3wW2QZN3mbde0y3fYUOS1B1w0r/iB6VqR1rcujDIeoiLM9w1aokD7IBtdZeWSpem//Faxy9t0UaSGgOY+j8V9XRMbzAwmMDk+Rt0ySBF3gyIO3/IC3CB5jCJfASHexqt7iUBbnyZOapcAlzSs6t38dUeoUyLLXH0zRxzEkVWhIL1oXFAJLB6TbDUuCzVmreWl2s0JM5QH+ody4GJgL2T0p0bZoM6Nfoj35cXaK0ukAb0qTz8/ahlw2y0ezu+1U2G3R72SD/lRwB6/QTHAu1jRXKxsYFOVmS3x1gO8M7ZAxq59gZwl9s59B2Peje5Oc+htlNPx9lw+2eM/Jjf/RtNur270a5EOO+C6ytnYpH7RjL3nNaRcskY0B/wdovkH8HAAD//yMq/TONAwAA




- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";





    

- path: /etc/systemd/system/docker.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStart=
    ExecStart=/usr/bin/dockerd -H fd:// --storage-driver=overlay2 --bip=
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/docker/daemon.json
  permissions: "0644"
  owner: root
  content: |
    {
      "live-restore": true,
      "log-driver": "json-file",
      "log-opts":  {
         "max-size": "50m",
         "max-file": "5"
      }
      ,"default-runtime": "nvidia",
      "runtimes": {
         "nvidia": {
             "path": "/usr/bin/nvidia-container-runtime",
             "runtimeArgs": []
        }
      }
    }





- path: /etc/systemd/system/nvidia-modprobe.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=Installs and loads Nvidia GPU kernel module
    [Service]
    Type=oneshot
    RemainAfterExit=true
    ExecStartPre=/bin/sh -c "dkms autoinstall --verbose"
    ExecStart=/bin/sh -c "nvidia-modprobe -u -c0"
    ExecStartPost=/bin/sh -c "sleep 10 && systemctl restart kubelet"
    [Install]
    WantedBy=multi-user.target


- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=--address=0.0.0.0 --anonymous-auth=false --authentication-token-webhook=true --authorization-mode=Webhook --azure-container-registry-config=/etc/kubernetes/azure.json --cgroups-per-qos=true --client-ca-file=/etc/kubernetes/certs/ca.crt --cloud-config=/etc/kubernetes/azure.json --cloud-provider=azure --cluster-dns=10.0.0.10 --cluster-domain=cluster.local --enforce-node-allocatable=pods --event-qps=0 --eviction-hard=memory.available<750Mi,nodefs.available<10%,nodefs.inodesFree<5% --feature-gates=RotateKubeletServerCertificate=true,a=b,PodPriority=true,x=y --image-gc-high-threshold=85 --image-gc-low-threshold=80 --kube-reserved=cpu=100m,memory=1638Mi --max-pods=110 --node-status-update-frequency=10s --pod-manifest-path=/etc/kubernetes/manifests --pod-max-pids=-1 --protect-kernel-defaults=true --read-only-port=10255 --resolv-conf=/etc/resolv.conf --rotate-certificates=true --streaming-connection-idle-timeout=4h0m0s --system-reserved=cpu=2,memory=1Gi --tls-cert-file=/etc/kubernetes/certs/kubeletserver.crt --tls-cipher-suites=TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_AES_128_GCM_SHA256 --tls-private-key-file=/etc/kubernetes/certs/kubeletserver.key 
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=
    KUBELET_IMAGE=hyperkube-amd64:v1.15.7


    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,node-role.kubernetes.io/agent=,kubernetes.io/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Standard_LRS,accelerator=nvidia,kubernetes.azure.com/cluster=resourceGroupName

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/999-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue:
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731
    net.ipv4.tcp_retries2=8
    net.core.message_burst=80
    net.core.message_cost=40
    net.core.somaxconn=16384
    net.ipv4.tcp_max_syn_backlog=16384
    net.ipv4.neigh.default.gc_thresh1=4096
    net.ipv4.neigh.default.gc_thresh2=8192
    net.ipv4.neigh.default.gc_thresh3=16384

    #EOF

runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- . /opt/azure/containers/provision_source_distro.sh
- aptmarkWALinuxAgent hold
